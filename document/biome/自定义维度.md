## 自定义维度
1. 自定义维度由两个部分组成，分别是**维度(dimension)**和**维度类型(dimension type)**
2. 维度用于控制维度地形、生物群系生成，而维度类型用于更改各种设置，例如昼夜循环、环境光照、使用床是否爆炸等
### 维度类型

___

1. 维度类型以Json文件的形式存储在数据包的data/<模组ID>/dimension_type/<维度类型名称>.json（[维度类型Json文件结构](https://zh.minecraft.wiki/w/维度类型)）
2. 但需要编写Java类去生成维度类型文件，例如
```java
public class ModDimensions {
    private static DimensionType overWorld() {
        DimensionType.MonsterSettings type = new DimensionType.MonsterSettings(
                false, // piglinSafe：猪灵、猪灵蛮兵和疣猪兽是否会僵尸化
                ture, // hasRaids：带有不祥之兆的玩家是否可以触发袭击
                UniformIntProvider.create(7, 0), // monsterSpawnLightTest: 取值为0到15的闭区间。怪物生成位置的最大光照。
                0 // monsterSpawnBlockLightLimit：取值为0到15的闭区间。怪物生成位置的最大方块光照。
        );
        return new DimensionType(
                OptionalLong.empty(), // fixedTime：如果设置本字段，该维度的昼夜时间将会固定在这个指定值上。
                true, // hasSkyLight：该维度是否有天空光照
                false, // hasCeiling：该维度是否有天花板
                false, // ultrawarm：为true时，水桶无法放出水，湿海绵会变干，熔岩会流动得更快、扩散得更远（下界维度效果）
                true, // natural：为false时，指南针会随机转动，且无法用床睡觉或重置重生点（下界维度效果） 为true时，下界传送门方块会生成僵尸猪灵（主世界效果）
                1.0, // coordinateScale：传送到该维度时的坐标缩放值
                true, // bedWorks：玩家用床时，是否会爆炸
                false, // respawnAnchorWorks：玩家使用重生锚时，是否会爆炸
                -64, // minY：该维度中可以存在方块的最低高度，数值是16的整数倍
                384, // height：该维度中可以存在方块的总高度。数值是16的整数倍
                384, // logicalHeight：玩家使用紫颂果或下界传送门可以到达的总高度
                BlockTags.INFINIBURN_OVERWORLD, // infiniburn：该维度中火可以在哪些方块上永久燃烧
                DimensionTypes.OVERWORLD_ID, // effects：可选，默认为主世界，是否有该维度的天空效果
                0.0f, // ambientLight：该维度的环境光照，该值越高，渲染得越亮。
                type // monsterSettings：生成怪物设定
        );
    }
}
```
### 维度

---

1. 维度以JSON文件的形式存储在数据包的data/<模组ID>/dimension/<维度名称>.json（[维度Json文件结构](https://zh.minecraft.wiki/w/维度数据格式)）
2. Type：一个维度类型（使用命名空间ID指定）。可以为预设的overworld、the_nether、the_end、overworld_caves或一个自定义的维度类型
3. Generator：一个区块生成器
- 生成器类型命名空间ID。取值可以为其中之一：noise、flat或debug
  * Noise：噪音，是主世界使用的方式
  * Flat：超平坦：没有地形的起伏，每一层都是一样的方块
  * Debug：调试模式，展示一些技术内容
- 超平坦生成器设置：（[平坦型](https://zh.minecraft.wiki/w/维度数据格式#平坦型)）
  * layers：层设置。此列表中的元素自上而下从世界底部开始生成
    * height：该层方块所占的层数
    * block：该层使用的方块，默认为空气
    * ```json
      {
      "layers":[
          {
          "height":1,
          "block":"minecraft:stone"
          }
        ]
      }
      ```
  * biome：该维度使用的唯一的生物群系的ID，默认为平原（Plains）
  * lakes：是否生成熔岩湖（地下岩浆湖（Lake Lava Underground）和地上岩浆湖（Lake Lava Surface）
  * features：是否生成生物群系的已放置地物。
  * structure_overrides：要指定生成哪些结构集。可以为一个结构集ID或一个结构集标签，或者一个结构集ID的列表，例如minecraft:stronghold（要塞）
  * 通常例子（一层基岩加三层泥土和一层草方块）
  * ```json
    {
    "settings": {
    "biome": "minecraft:plains",
    "features": false,
    "lakes": false,
    "layers": [
      {
        "block": "minecraft:bedrock",
        "height": 1
      },
      {
        "block": "minecraft:dirt",
        "height": 2
      },
      {
        "block": "minecraft:grass_block",
        "height": 1
      }
    ],
    "structure_overrides": "minecraft:villages"
      }
    }
     ```
- 噪声（[噪声型](https://zh.minecraft.wiki/w/维度数据格式#噪声型)）
  * 噪声是最常用的世界生成方式，也是默认世界的所有维度采用的生成方式
  * settings：一个噪声设置，用于设置噪声生成器
  * biome_source：一个生物群系源。 
- 噪声生成方式
  * [多噪声型（Multi Noise）](https://zh.minecraft.wiki/w/维度数据格式#多噪声型)
    * 就是主世界生成的方式，和主世界一样生成生态群系
  * [固定型（Fixed）](https://zh.minecraft.wiki/w/维度数据格式#固定型)
    * 单一生物群系，将固定使用一个特定的生物群系
  * [棋盘型（Checkerboard）](https://zh.minecraft.wiki/w/维度数据格式#棋盘型)
    * 棋盘型生物群系源将以棋盘样式放置生物群系
  * [末地型（The End）](https://zh.minecraft.wiki/w/维度数据格式#末地型)
    * 末地一样的方式生成生物群系
- Setting：噪声设置
  * 使用原版预设好的噪声设置，例如
  * 主世界（Overworld）、下界（nether）、洞穴（Caves）、末地（End）、空岛（Floatning Islands）、（超大生物群系）Large Biomes
### 噪声

---

1. firstOctave：主噪声的频率（周期）
2. amplitudes 设置噪声的振幅

- 参考：[用数据包自定义维度一](https://www.bilibili.com/read/cv25708152)和[用数据包自定义维度二](https://www.bilibili.com/read/cv26113352)